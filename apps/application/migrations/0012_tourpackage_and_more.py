# Generated by Django 5.2.4 on 2025-08-29 11:02

import django.db.models.deletion
from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('application', '0011_alter_additionalservice_options_and_more'),
    ]

    operations = [
        migrations.CreateModel(
            name='TourPackage',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=255, verbose_name='Paket nomi')),
                ('package_type', models.CharField(choices=[('standard', 'Standart'), ('business', 'Biznes'), ('premium', 'Premium'), ('custom', 'Maxsus')], max_length=20, verbose_name='Paket turi')),
                ('description', models.TextField(verbose_name='Tavsif')),
                ('duration_days', models.IntegerField(default=1, verbose_name='Davomiyligi (kun)')),
                ('price_usd', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='Narxi (USD)')),
                ('price_som', models.DecimalField(decimal_places=2, max_digits=15, verbose_name="Narxi (So'm)")),
                ('includes_transport', models.BooleanField(default=True, verbose_name='Tashish kiritilgan')),
                ('includes_accommodation', models.BooleanField(default=False, verbose_name='Turar joy kiritilgan')),
                ('includes_guide', models.BooleanField(default=True, verbose_name='Gid kiritilgan')),
                ('includes_translator', models.BooleanField(default=False, verbose_name='Tarjimon kiritilgan')),
                ('includes_cultural_program', models.BooleanField(default=False, verbose_name='Madaniy dastur')),
                ('max_manufacturers', models.IntegerField(default=3, verbose_name='Maksimal zavodlar soni')),
                ('max_participants', models.IntegerField(default=5, verbose_name='Maksimal ishtirokchilar')),
                ('package_image', models.ImageField(blank=True, null=True, upload_to='tour_packages/', verbose_name='Paket rasmi')),
                ('gallery_images', models.JSONField(blank=True, default=list, verbose_name='Galereya rasmlari')),
                ('highlights', models.JSONField(blank=True, default=list, verbose_name='Asosiy afzalliklar')),
                ('itinerary', models.JSONField(blank=True, default=list, verbose_name='Kunlik dastur')),
                ('is_active', models.BooleanField(default=True, verbose_name='Faolmi')),
                ('is_featured', models.BooleanField(default=False, verbose_name='Tavsiya etiladi')),
                ('order', models.IntegerField(default=0, verbose_name='Tartib raqami')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Sayohat paketi',
                'verbose_name_plural': 'Sayohat paketlari',
                'ordering': ['order', 'price_usd'],
            },
        ),
        migrations.AlterModelOptions(
            name='applicationadditionalservice',
            options={'verbose_name': "Qo'shimcha xizmat arizasi", 'verbose_name_plural': "Qo'shimcha xizmat arizalari"},
        ),
        migrations.AlterModelOptions(
            name='botuser',
            options={'verbose_name': 'Bot foydalanuvchisi', 'verbose_name_plural': 'Bot foydalanuvchilari'},
        ),
        migrations.AddField(
            model_name='botuser',
            name='is_active',
            field=models.BooleanField(default=True, verbose_name='Faolmi'),
        ),
        migrations.AddField(
            model_name='customer',
            name='total_orders',
            field=models.IntegerField(default=0, verbose_name='Jami buyurtmalar'),
        ),
        migrations.AddField(
            model_name='manufacturer',
            name='rating',
            field=models.DecimalField(decimal_places=2, default=0.0, max_digits=3, verbose_name='Reyting'),
        ),
        migrations.AddField(
            model_name='manufacturer',
            name='subscription_expires',
            field=models.DateTimeField(blank=True, null=True, verbose_name='Obuna muddati'),
        ),
        migrations.AddField(
            model_name='manufacturer',
            name='total_orders',
            field=models.IntegerField(default=0, verbose_name='Jami buyurtmalar'),
        ),
        migrations.AddField(
            model_name='manufacturer',
            name='verification_date',
            field=models.DateTimeField(blank=True, null=True, verbose_name='Tekshirish sanasi'),
        ),
        migrations.AlterField(
            model_name='applicationadditionalservice',
            name='status',
            field=models.CharField(choices=[('in_progress', 'Jarayonda'), ('approved', 'Tasdiqlandi'), ('paid', "To'lov qilindi")], default='in_progress', max_length=20, verbose_name='Holat'),
        ),
        migrations.AlterField(
            model_name='customer',
            name='payment_terms',
            field=models.CharField(max_length=250, verbose_name="To'lov shartlari"),
        ),
        migrations.AlterField(
            model_name='manufacturer',
            name='has_credit_load',
            field=models.BooleanField(default=False, verbose_name='Kredit yuki mavjudmi'),
        ),
        migrations.AlterField(
            model_name='manufacturer',
            name='has_power_issues',
            field=models.BooleanField(default=False, verbose_name='Elektr/gaz uzilishlari bormi'),
        ),
        migrations.AlterField(
            model_name='manufacturer',
            name='owns_building',
            field=models.BooleanField(default=False, verbose_name="Bino o'zlariniki yoki ijaradami"),
        ),
        migrations.AlterField(
            model_name='manufacturer',
            name='status',
            field=models.CharField(choices=[('in_progress', 'Jarayonda'), ('approved', 'Tasdiqlandi'), ('paid', "To'lov qilindi"), ('verified', 'Tekshirildi')], default='in_progress', max_length=20, verbose_name='Holat'),
        ),
        migrations.CreateModel(
            name='Chat',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('chat_type', models.CharField(choices=[('tender', 'Tender'), ('direct', "To'g'ridan-to'g'ri"), ('support', "Qo'llab-quvvatlash")], max_length=20, verbose_name='Chat turi')),
                ('is_active', models.BooleanField(default=True, verbose_name='Faolmi')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('customer', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='application.customer', verbose_name='Mijoz')),
                ('manufacturer', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='application.manufacturer', verbose_name='Ishlab chiqaruvchi')),
            ],
            options={
                'verbose_name': 'Chat',
                'verbose_name_plural': 'Chatlar',
            },
        ),
        migrations.CreateModel(
            name='ChatMessage',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('message', models.TextField(verbose_name='Xabar')),
                ('file', models.FileField(blank=True, null=True, upload_to='chat_files/', verbose_name='Fayl')),
                ('is_read', models.BooleanField(default=False, verbose_name="O'qilganmi")),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('chat', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='application.chat', verbose_name='Chat')),
                ('sender', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='application.botuser', verbose_name='Yuboruvchi')),
            ],
            options={
                'verbose_name': 'Chat xabari',
                'verbose_name_plural': 'Chat xabarlari',
                'ordering': ['created_at'],
            },
        ),
        migrations.CreateModel(
            name='Notification',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('notification_type', models.CharField(choices=[('tender_response', 'Tender javobi'), ('order_update', 'Buyurtma yangilanishi'), ('payment_success', "To'lov muvaffaqiyatli"), ('subscription_expires', 'Obuna muddati tugaydi'), ('system', 'Tizim xabari')], max_length=20, verbose_name='Xabar turi')),
                ('title', models.CharField(max_length=255, verbose_name='Sarlavha')),
                ('message', models.TextField(verbose_name='Xabar')),
                ('is_read', models.BooleanField(default=False, verbose_name="O'qilganmi")),
                ('data', models.JSONField(blank=True, null=True, verbose_name="Qo'shimcha ma'lumotlar")),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='application.botuser', verbose_name='Foydalanuvchi')),
            ],
            options={
                'verbose_name': 'Bildirishnoma',
                'verbose_name_plural': 'Bildirishnomalar',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='Payment',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('payment_type', models.CharField(choices=[('subscription', 'Obuna'), ('catalog_access', 'Katalog kirish'), ('video_meeting', 'Video uchrashuv'), ('factory_tour', 'Zavod sayohati'), ('verification', 'Tekshirish'), ('personal_manager', 'Shaxsiy menejer'), ('training', "O'qitish")], max_length=20, verbose_name="To'lov turi")),
                ('amount', models.DecimalField(decimal_places=2, max_digits=15, verbose_name='Summa')),
                ('currency', models.CharField(default='USD', max_length=3, verbose_name='Valyuta')),
                ('payment_method', models.CharField(choices=[('click', 'Click'), ('payme', 'Payme'), ('visa', 'Visa'), ('mastercard', 'Mastercard'), ('uzcard', 'Uzcard'), ('humo', 'Humo')], max_length=20, verbose_name="To'lov usuli")),
                ('status', models.CharField(choices=[('pending', 'Kutilmoqda'), ('completed', 'Bajarildi'), ('failed', 'Xatolik'), ('refunded', 'Qaytarildi')], default='pending', max_length=20)),
                ('transaction_id', models.CharField(blank=True, max_length=100, null=True, verbose_name='Tranzaksiya ID')),
                ('payment_data', models.JSONField(blank=True, null=True, verbose_name="To'lov ma'lumotlari")),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('completed_at', models.DateTimeField(blank=True, null=True, verbose_name='Bajarilgan vaqti')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='application.botuser', verbose_name='Foydalanuvchi')),
            ],
            options={
                'verbose_name': "To'lov",
                'verbose_name_plural': "To'lovlar",
            },
        ),
        migrations.CreateModel(
            name='Tender',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('lot_number', models.CharField(max_length=50, unique=True, verbose_name='Lot raqami')),
                ('product_description', models.TextField(verbose_name='Mahsulot tavsifi')),
                ('order_quantity', models.CharField(max_length=100, verbose_name='Buyurtma hajmi')),
                ('delivery_date', models.DateField(verbose_name='Yetkazib berish sanasi')),
                ('special_requirements', models.TextField(blank=True, null=True, verbose_name='Maxsus talablar')),
                ('budget', models.DecimalField(blank=True, decimal_places=2, max_digits=15, null=True, verbose_name='Byudjet')),
                ('product_segment', models.CharField(choices=[('knitwear', 'Trikotaj'), ('denim', 'Jinsi'), ('home_textiles', "Uy to'qimachilik"), ('workwear', 'Ish kiyimlari'), ('fabrics', 'Matolar'), ('other', 'Boshqa')], max_length=20, verbose_name='Mahsulot segmenti')),
                ('status', models.CharField(choices=[('active', 'Faol'), ('closed', 'Yopilgan'), ('completed', 'Bajarilgan'), ('cancelled', 'Bekor qilingan')], default='active', max_length=20)),
                ('responses_count', models.IntegerField(default=0, verbose_name='Javoblar soni')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('bitrix_deal_id', models.CharField(blank=True, max_length=100, null=True, verbose_name='Bitrix24 bitim ID')),
                ('customer', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='application.customer', verbose_name='Mijoz')),
            ],
            options={
                'verbose_name': 'Tender',
                'verbose_name_plural': 'Tenderlar',
            },
        ),
        migrations.CreateModel(
            name='Order',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('order_number', models.CharField(max_length=50, unique=True, verbose_name='Buyurtma raqami')),
                ('quantity', models.IntegerField(verbose_name='Miqdori')),
                ('unit_price', models.DecimalField(decimal_places=2, max_digits=15, verbose_name='Birlik narxi')),
                ('total_amount', models.DecimalField(decimal_places=2, max_digits=15, verbose_name='Jami summa')),
                ('delivery_date', models.DateField(verbose_name='Yetkazib berish sanasi')),
                ('status', models.CharField(choices=[('pending', 'Kutilmoqda'), ('confirmed', 'Tasdiqlandi'), ('in_production', 'Ishlab chiqarishda'), ('ready', 'Tayyor'), ('shipped', 'Yuborildi'), ('delivered', 'Yetkazildi'), ('cancelled', 'Bekor qilindi')], default='pending', max_length=20)),
                ('contract_file', models.FileField(blank=True, null=True, upload_to='contracts/', verbose_name='Shartnoma fayli')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('bitrix_deal_id', models.CharField(blank=True, max_length=100, null=True, verbose_name='Bitrix24 bitim ID')),
                ('customer', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='application.customer', verbose_name='Mijoz')),
                ('manufacturer', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='application.manufacturer', verbose_name='Ishlab chiqaruvchi')),
                ('tender', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='application.tender', verbose_name='Tender')),
            ],
            options={
                'verbose_name': 'Buyurtma',
                'verbose_name_plural': 'Buyurtmalar',
            },
        ),
        migrations.AddField(
            model_name='chat',
            name='tender',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='application.tender', verbose_name='Tender'),
        ),
        migrations.CreateModel(
            name='FactoryTour',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tour_dates', models.DateField(verbose_name='Sayohat sanasi')),
                ('duration_days', models.IntegerField(default=1, verbose_name='Davomiyligi (kun)')),
                ('participants_count', models.IntegerField(default=1, verbose_name='Ishtirokchilar soni')),
                ('preferred_segments', models.CharField(max_length=255, verbose_name="Afzal ko'rilgan segmentlar")),
                ('accommodation_needed', models.BooleanField(default=False, verbose_name='Turar joy kerakmi')),
                ('special_requests', models.TextField(blank=True, null=True, verbose_name="Maxsus so'rovlar")),
                ('status', models.CharField(choices=[('pending', 'Kutilmoqda'), ('confirmed', 'Tasdiqlandi'), ('in_progress', 'Jarayonda'), ('completed', 'Bajarildi'), ('cancelled', 'Bekor qilindi')], default='pending', max_length=20)),
                ('total_cost', models.DecimalField(blank=True, decimal_places=2, max_digits=15, null=True, verbose_name='Jami narx')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('customer', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='application.customer', verbose_name='Mijoz')),
                ('tour_package', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='application.tourpackage', verbose_name='Sayohat paketi')),
            ],
            options={
                'verbose_name': 'Zavod sayohati',
                'verbose_name_plural': 'Zavod sayohatlari',
            },
        ),
        migrations.CreateModel(
            name='TourPackageFeature',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('feature_name', models.CharField(max_length=255, verbose_name='Xizmat nomi')),
                ('feature_description', models.TextField(blank=True, verbose_name='Xizmat tavsifi')),
                ('is_included', models.BooleanField(default=True, verbose_name='Kiritilganmi')),
                ('icon', models.CharField(blank=True, max_length=50, verbose_name='Ikonka')),
                ('order', models.IntegerField(default=0, verbose_name='Tartib raqami')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Yaratilgan vaqti')),
                ('tour_package', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='features', to='application.tourpackage')),
            ],
            options={
                'verbose_name': 'Paket xizmati',
                'verbose_name_plural': 'Paket xizmatlari',
                'ordering': ['order'],
            },
        ),
        migrations.CreateModel(
            name='VideoMeeting',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('meeting_date', models.DateTimeField(verbose_name='Uchrashuv vaqti')),
                ('duration', models.IntegerField(default=60, verbose_name='Davomiyligi (minut)')),
                ('meeting_link', models.URLField(blank=True, null=True, verbose_name='Uchrashuv havolasi')),
                ('notes', models.TextField(blank=True, null=True, verbose_name='Izohlar')),
                ('status', models.CharField(choices=[('pending', 'Kutilmoqda'), ('scheduled', 'Rejalashtirilgan'), ('completed', 'Bajarildi'), ('cancelled', 'Bekor qilindi')], default='pending', max_length=20)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('customer', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='application.customer', verbose_name='Mijoz')),
                ('manufacturers', models.ManyToManyField(to='application.manufacturer', verbose_name='Ishlab chiqaruvchilar')),
                ('payment', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='application.payment', verbose_name="To'lov")),
            ],
            options={
                'verbose_name': 'Video uchrashuv',
                'verbose_name_plural': 'Video uchrashuvlar',
            },
        ),
        migrations.CreateModel(
            name='TenderResponse',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('message', models.TextField(verbose_name='Xabar')),
                ('price_offer', models.DecimalField(blank=True, decimal_places=2, max_digits=15, null=True, verbose_name='Narx taklifi')),
                ('delivery_time', models.CharField(blank=True, max_length=100, null=True, verbose_name='Yetkazib berish vaqti')),
                ('status', models.CharField(choices=[('pending', 'Kutilmoqda'), ('approved', 'Tasdiqlandi'), ('rejected', 'Rad etildi'), ('selected', 'Tanlandi')], default='pending', max_length=20)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('bitrix_comment_id', models.CharField(blank=True, max_length=100, null=True, verbose_name='Bitrix24 izoh ID')),
                ('manufacturer', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='application.manufacturer', verbose_name='Ishlab chiqaruvchi')),
                ('tender', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='application.tender', verbose_name='Tender')),
            ],
            options={
                'verbose_name': 'Tender javobi',
                'verbose_name_plural': 'Tender javoblari',
                'unique_together': {('tender', 'manufacturer')},
            },
        ),
        migrations.CreateModel(
            name='TourPackagePrice',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('participants_count', models.IntegerField(verbose_name='Ishtirokchilar soni')),
                ('price_usd', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='Narxi (USD)')),
                ('price_som', models.DecimalField(decimal_places=2, max_digits=15, verbose_name="Narxi (So'm)")),
                ('discount_percent', models.DecimalField(decimal_places=2, default=0, max_digits=5, verbose_name='Chegirma (%)')),
                ('is_active', models.BooleanField(default=True, verbose_name='Faolmi')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Yaratilgan vaqti')),
                ('tour_package', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='prices', to='application.tourpackage')),
            ],
            options={
                'verbose_name': 'Paket narxi',
                'verbose_name_plural': 'Paket narxlari',
                'unique_together': {('tour_package', 'participants_count')},
            },
        ),
    ]
